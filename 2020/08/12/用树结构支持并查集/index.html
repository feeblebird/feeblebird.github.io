<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>用树结构支持并查集 | Komorebi</title><meta name="description" content="并查集    定义 在一些应用中，需要把n个不同元素划分成不相交的若干组，每 一组的元素构成 一个集合，由于这类问题主要涉及对集合的合并和查找，因此称为并查集    并查集的三种操作  Make_Set(x):加入一个含单元素x的集合{x}到并查集S，且rep[{x}] &#x3D; x。  x不能被包含在任何一个Si中，因为S里任何两个集合是不相交的。 初始时，对每个元素x执行一次Make_Set(x)"><meta name="keywords" content="并查集"><meta name="author" content="komorebi"><meta name="copyright" content="komorebi"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://feeblebird.github.io/2020/08/12/%E7%94%A8%E6%A0%91%E7%BB%93%E6%9E%84%E6%94%AF%E6%8C%81%E5%B9%B6%E6%9F%A5%E9%9B%86/"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta property="og:type" content="article"><meta property="og:title" content="用树结构支持并查集"><meta property="og:url" content="http://feeblebird.github.io/2020/08/12/%E7%94%A8%E6%A0%91%E7%BB%93%E6%9E%84%E6%94%AF%E6%8C%81%E5%B9%B6%E6%9F%A5%E9%9B%86/"><meta property="og:site_name" content="Komorebi"><meta property="og:description" content="并查集    定义 在一些应用中，需要把n个不同元素划分成不相交的若干组，每 一组的元素构成 一个集合，由于这类问题主要涉及对集合的合并和查找，因此称为并查集    并查集的三种操作  Make_Set(x):加入一个含单元素x的集合{x}到并查集S，且rep[{x}] &#x3D; x。  x不能被包含在任何一个Si中，因为S里任何两个集合是不相交的。 初始时，对每个元素x执行一次Make_Set(x)"><meta property="og:image" content="https://i.loli.net/2020/08/07/k9fpzD6NarE7yWZ.jpg"><meta property="article:published_time" content="2020-08-12T00:05:51.000Z"><meta property="article:modified_time" content="2020-09-12T06:09:08.554Z"><meta name="twitter:card" content="summary"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: {"limitCount":50,"languages":{"author":"作者: komorebi","link":"链接: ","source":"来源: Komorebi","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  isPhotoFigcaption: true,
  islazyload: true,
  isanchor: false    
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isSidebar: true,
  postUpdate: '2020-09-12 14:09:08'
}</script><noscript><style>
#nav {
  opacity: 1
}
.justified-gallery img {
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 5.0.0"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" data-lazy-src="https://i.loli.net/2020/08/02/WuXQnAJZ6twj5HU.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">33</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">35</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">16</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div></div></div></div><div id="body-wrap"><div id="web_bg" data-type="photo"></div><div id="sidebar"><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B9%B6%E6%9F%A5%E9%9B%86"><span class="toc-number">1.</span> <span class="toc-text"> 并查集</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89"><span class="toc-number">1.0.0.1.</span> <span class="toc-text"> 定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B9%B6%E6%9F%A5%E9%9B%86%E7%9A%84%E4%B8%89%E7%A7%8D%E6%93%8D%E4%BD%9C"><span class="toc-number">1.0.0.2.</span> <span class="toc-text"> 并查集的三种操作</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B9%B6%E6%9F%A5%E9%9B%86%E7%9A%84%E8%A1%A8%E7%A4%BA"><span class="toc-number">2.</span> <span class="toc-text"> 并查集的表示</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A0%91%E7%BB%93%E6%9E%84%E7%9A%84%E6%9F%A5%E6%89%BE%E6%93%8D%E4%BD%9Cset_findx"><span class="toc-number">3.</span> <span class="toc-text"> 树结构的查找操作set_find(x)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%B9%E6%9F%A5%E6%89%BE%E8%BE%B9%E8%B7%AF%E5%BE%84%E5%8E%8B%E7%BC%A9"><span class="toc-number">3.0.0.1.</span> <span class="toc-text"> 边查找边路径压缩</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%AF%E5%BE%84%E5%8E%8B%E7%BC%A9%E7%9A%84%E7%9B%AE%E7%9A%84"><span class="toc-number">3.0.0.2.</span> <span class="toc-text"> 路径压缩的目的</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B9%B6%E6%9F%A5%E9%9B%86%E6%9B%B4%E9%80%9A%E4%BF%97%E7%9A%84%E8%A7%A3%E9%87%8A"><span class="toc-number">4.</span> <span class="toc-text"> 并查集更通俗的解释</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A0%91%E7%BB%93%E6%9E%84%E5%90%88%E5%B9%B6%E6%93%8D%E4%BD%9Cjoinxy"><span class="toc-number">5.</span> <span class="toc-text"> 树结构合并操作join(x,y)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%86%E4%B8%A4%E6%A3%B5%E6%A0%91%E7%9A%84%E6%A0%B9%E8%8A%82%E7%82%B9%E7%9B%B8%E8%BF%9E"><span class="toc-number">5.0.0.1.</span> <span class="toc-text"> 将两棵树的根节点相连</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#find-themcatch-thempoj-1703"><span class="toc-number">6.</span> <span class="toc-text"> Find them,Catch them(POJ 1703)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0"><span class="toc-number">6.0.0.1.</span> <span class="toc-text"> 题目描述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%85%A5"><span class="toc-number">6.0.0.2.</span> <span class="toc-text"> 输入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%87%BA"><span class="toc-number">6.0.0.3.</span> <span class="toc-text"> 输出</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E6%9E%90"><span class="toc-number">6.0.0.4.</span> <span class="toc-text"> 分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%94%99%E8%AF%AF%E4%BB%A3%E7%A0%81"><span class="toc-number">6.0.0.5.</span> <span class="toc-text"> 错误代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%94%99%E8%AF%AF%E5%8E%9F%E5%9B%A0"><span class="toc-number">6.0.0.6.</span> <span class="toc-text"> 错误原因</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A3%E7%A1%AE%E4%BB%A3%E7%A0%81"><span class="toc-number">6.0.0.7.</span> <span class="toc-text"> 正确代码</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cube-stackingpoj-1988"><span class="toc-number">7.</span> <span class="toc-text"> Cube Stacking(POJ 1988)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0-2"><span class="toc-number">7.0.0.1.</span> <span class="toc-text"> 题目描述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%85%A5-2"><span class="toc-number">7.0.0.2.</span> <span class="toc-text"> 输入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%87%BA-2"><span class="toc-number">7.0.0.3.</span> <span class="toc-text"> 输出</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%88%86%E6%9E%90"><span class="toc-number">7.0.0.4.</span> <span class="toc-text"> 题目分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81"><span class="toc-number">7.0.0.5.</span> <span class="toc-text"> 代码</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%A3%9F%E7%89%A9%E9%93%BEpoj-1182"><span class="toc-number">8.</span> <span class="toc-text"> 食物链(POJ 1182)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0-3"><span class="toc-number">8.0.0.1.</span> <span class="toc-text"> 题目描述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%85%A5-3"><span class="toc-number">8.0.0.2.</span> <span class="toc-text"> 输入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%87%BA-3"><span class="toc-number">8.0.0.3.</span> <span class="toc-text"> 输出</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E5%88%86%E6%9E%90-2"><span class="toc-number">8.0.0.4.</span> <span class="toc-text"> 题目分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-2"><span class="toc-number">8.0.0.5.</span> <span class="toc-text"> 代码</span></a></li></ol></li></ol></li></ol></li></ol></div></div></div><header class="post-bg" id="page-header" style="background-image: url(https://i.loli.net/2020/08/07/k9fpzD6NarE7yWZ.jpg)"><nav id="nav"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">Komorebi</a></span><span class="pull-right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">用树结构支持并查集</div></div><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-08-12T00:05:51.000Z" title="发表于 2020-08-12 08:05:51">2020-08-12</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-09-12T06:09:08.554Z" title="更新于 2020-09-12 14:09:08">2020-09-12</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E9%AB%98%E7%BA%A7%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">高级数据结构</a></span></div><div class="meta-secondline"> <span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">3.7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>14分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h1 id="并查集"><a class="markdownIt-Anchor" href="#并查集"></a> 并查集</h1>
<ul>
<li>
<h4 id="定义"><a class="markdownIt-Anchor" href="#定义"></a> 定义</h4>
<p>在一些应用中，需要把n个不同元素划分成不相交的若干组，每 一组的元素构成</p>
<p>一个集合，由于这类问题主要涉及对集合的合并和查找，因此称为并查集</p>
</li>
<li>
<h4 id="并查集的三种操作"><a class="markdownIt-Anchor" href="#并查集的三种操作"></a> 并查集的三种操作</h4>
<ul>
<li><strong>Make_Set(x)</strong>:加入一个含单元素x的集合{x}到并查集S，且rep[{x}] = x。
<ul>
<li>x不能被包含在任何一个S<sub>i</sub>中，因为S里任何两个集合是不相交的。</li>
<li>初始时，对每个元素x执行一次Make_Set(x)。</li>
</ul>
</li>
<li><strong>join(x,y)</strong>:把x和y所在的两个不同集合S<sub>x</sub>和S<sub>y</sub>合并:从S中删除S<sub>x</sub>和S<sub>y</sub>，并加入S<sub>x</sub>和S<sub>y</sub>。</li>
<li><strong>set_find(x)</strong>:返回x所在的集合S<sub>x</sub>的代表元rep[S<sub>x</sub>]。</li>
</ul>
</li>
</ul>
<h1 id="并查集的表示"><a class="markdownIt-Anchor" href="#并查集的表示"></a> 并查集的表示</h1>
<ul>
<li>
<p>用链表表示</p>
<p>每个集合用双向链表表示，代表元rep[S<sub>i</sub>]在链表的首部，集合中的每个节点除前后指针外，增加一个指向代表元rep[S<sub>i</sub>]的指针，如图：</p>
<p><img src= "/img/loading.gif" data-lazy-src="https://i.loli.net/2020/08/12/tWNrLE7MGvzXqUT.png" alt="" /></p>
</li>
<li>
<p>用树结构表示</p>
<p>每个集合用一颗树表示，根为集合的代表元。每个节点p设一个指针set[p]，记录它所在树的根节点序号。如果set[p]&lt;0，则表明p为根节点。初始时，为每个元素建立一个集合，即set[x]=-1(1<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>≤</mo></mrow><annotation encoding="application/x-tex">\leq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">≤</span></span></span></span>x<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>≤</mo></mrow><annotation encoding="application/x-tex">\leq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">≤</span></span></span></span>n)。</p>
<p><img src= "/img/loading.gif" data-lazy-src="https://i.loli.net/2020/08/12/DEQYqRNCGd5M8rZ.png" alt="" /></p>
</li>
</ul>
<h1 id="树结构的查找操作set_findx"><a class="markdownIt-Anchor" href="#树结构的查找操作set_findx"></a> 树结构的查找操作set_find(x)</h1>
<ul>
<li>
<h4 id="边查找边路径压缩"><a class="markdownIt-Anchor" href="#边查找边路径压缩"></a> 边查找边路径压缩</h4>
<ul>
<li>
<p>首先，从节点x出发，沿set指针查找节点x所在树的根节点f（set[f]&lt;0）。</p>
</li>
<li>
<p>然后，进行路径压缩，将x至f的路径上经过的每个节点的set指针都指向f。</p>
<p><img src= "/img/loading.gif" data-lazy-src="https://i.loli.net/2020/08/12/JhMw8D3HpjRSCQy.png" alt="" /></p>
</li>
</ul>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">set_find</span><span class="params">(<span class="keyword">int</span> p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">set</span>[p] == p)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">set</span>[p] = set_find(<span class="built_in">set</span>[p]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>
<h4 id="路径压缩的目的"><a class="markdownIt-Anchor" href="#路径压缩的目的"></a> 路径压缩的目的</h4>
<p>是为了当大多数节点的父亲直接就是根，这样再去查询的时候就会很快了。并查集对每个集合内部的具体结构没有要求，所以就可以修改树的结构。</p>
</li>
</ul>
<h1 id="并查集更通俗的解释"><a class="markdownIt-Anchor" href="#并查集更通俗的解释"></a> 并查集更通俗的解释</h1>
<p>话说江湖上散落着各式各样的大侠，有上千个之多。他们没有什么正当职业，整天背着剑在外面走来走去，碰到和自己不是一路人的，就免不了要打一架。但大侠们有一个长处就是讲义气，绝对不打自己的朋友，并且他们信奉“朋友的朋友就是我的朋友”。仅仅要是能通过朋友关系串联起来的。不管拐了多少个弯，都觉得是自己人。这样一来，江湖上就形成了一个一个的群落。通过两两之间的朋友关系串联起来。</p>
<p>而不在同一个群落的人，不管怎样都无法通过朋友关系连起来。于是就能够放心往死了打。可是两个原本互不相识的人。怎样推断是否属于一个朋友圈呢？</p>
<p>我们能够在每一个朋友圈内推举出一个比較有名望的人，作为该圈子的代表人物。这样，每一个圈子就能够这样命名“齐达内朋友之队”“罗纳尔多朋友之队“······两人仅仅要互相对一下自己的队长是不是同一个人，就能够确定敌友关系了。</p>
<p>可是还有问题啊，大侠们仅仅知道自己直接的朋友是谁，非常多人压根就不认识队长，要推断自己的队长是谁。仅能通过朋友的朋友关系问下去：“你是不是队长？你是不是队长？”。这样一来，队长面子上挂不住了，并且效率太低，还有可能陷入无限循环中。</p>
<p>于是队长下令，又一次组队。队内全部人实行分等级制度，形成树状结构，我队长就是根节点，以下各自是二级队员、三级队员。</p>
<p>每一个人仅仅要记住自己的上级是谁即可了。遇到推断敌友的时候。仅仅要一层层向上问。直到最高层，就能够在短时间内确定队长是谁了。因为我们关心的仅仅是两个人之间是否连通，至于他们是如何连通的，以及每一个圈子内部的结构是如何的。甚至队长是谁，并不重要。所以我们能够放任队长任意又一次组队，仅仅要不搞错敌友关系就好了。于是，门派产生了。</p>
<p>建立门派的过程是用merge函数两个人两个人地连接起来的，谁当谁的手下全然随机。最后的树状结构会变成什么样也全然无法估计。一字长蛇阵也有可能。这样查找的效率就会比较低下。最理想的情况就是全部人的直接上级都是掌门，一共就两级结构，仅仅要找一次就找到掌门了。</p>
<p>哪怕不能全然做到，也最好尽量接近。</p>
<p>这样就产生了路径压缩算法。</p>
<p>设想这样一个场景：两个互不相识的大侠碰面了，想知道能不能揍。 于是赶紧打电话问自己的上级：“你是不是掌门？” 上级说：“我不是呀，我的上级是谁谁谁。你问问他看看。” 一路问下去。原来两人的终于boss都是东厂曹公公。 “哎呀呀，原来是自己人，失礼失礼，在下三营六组白面葫芦娃!” “幸会幸会，在下九营十八组狗尾巴花仙子！</p>
<p>” 两人高高兴兴地手拉手喝酒去了。 “等等等等。两位大侠请留步，还有事情没完毕呢！</p>
<p>“哦，对了，还要做路径压缩。”两人醒悟。</p>
<p>白面葫芦娃打电话给他的上级六组长：“组长啊。我查过了。其习我们的掌门是曹公公。</p>
<p>不如我们一起直接拜在曹公公手下吧。省得以后查找掌门麻环。</p>
<p>” ，“唔。有道理。” 白面葫芦娃接着打电话给刚才拜访过的三营长……仙子狗尾巴花也做了相同的事情。</p>
<p>这样，查询中全部涉及到的人物都聚集在曹公公的直接领导下。每次查询都做了优化处理，所以整个门派树的层数都会维持在比较低的水平上。</p>
<h1 id="树结构合并操作joinxy"><a class="markdownIt-Anchor" href="#树结构合并操作joinxy"></a> 树结构合并操作join(x,y)</h1>
<ul>
<li>
<h4 id="将两棵树的根节点相连"><a class="markdownIt-Anchor" href="#将两棵树的根节点相连"></a> 将两棵树的根节点相连</h4>
<p>计算x元素所在并查集的树根fx和y元素所在并查集的树根fy。如果fx == fy，则说明元素x和元素y在同一并查集中；否则将x所在的元素并入y所在的集合，也就是将fx的set指针设为fy。</p>
<p><img src= "/img/loading.gif" data-lazy-src="https://i.loli.net/2020/08/12/b4oxLvErKTwuQmO.png" alt="image.png" /></p>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">join</span><span class="params">(<span class="keyword">int</span> p,<span class="keyword">int</span> q)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    p = set_find(p);</span><br><span class="line">    q = set_find(q);</span><br><span class="line">    <span class="keyword">if</span>(p!=q)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">set</span>[p] = q;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="find-themcatch-thempoj-1703"><a class="markdownIt-Anchor" href="#find-themcatch-thempoj-1703"></a> Find them,Catch them(POJ 1703)</h1>
<ul>
<li>
<h4 id="题目描述"><a class="markdownIt-Anchor" href="#题目描述"></a> 题目描述</h4>
<ul>
<li>Tadu市的警察局决定结束混乱，因此要采取行动，根除城市中的两大帮派：龙帮和蛇帮。然而，警方首先需要确定某个罪犯是属于哪个帮派。目前的问题是，给出两个罪犯，他们是属于同一个帮派吗？您要基于不完全的信息给出您的判断，因为歹徒总是在暗中行事。</li>
<li>假设在Tadu市现在有N（N≤10<sup>5</sup>）个罪犯，编号从1到N。当然，至少有 一个罪犯属于龙帮，也至少有一个罪犯属于蛇帮。给出M（M≤10<sup>5</sup>）条消息组成的序列，消息有下列两种形式：</li>
<li>1.D[a][b]</li>
<li>其中[a]和[b]是两个犯罪分子的编号，他们属于不同的帮派；</li>
<li>2.A[a][b]</li>
<li>其中[a][b]是两个犯罪分子的编号，您要确定a和b是否属于同一帮派。</li>
</ul>
</li>
<li>
<h4 id="输入"><a class="markdownIt-Anchor" href="#输入"></a> 输入</h4>
<p>输入的第一行给出给出一个整数T（1<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>≤</mo></mrow><annotation encoding="application/x-tex">\leq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">≤</span></span></span></span>T$\leq$20），表示测试用例的个数。后面跟着T个测试用，每个测试用例的第一行给出两个整数N和M，后面的M行每行给出一条如上面所描述的消息</p>
</li>
<li>
<h4 id="输出"><a class="markdownIt-Anchor" href="#输出"></a> 输出</h4>
<p>对于在测试用例中的每条“A [a] [b]”消息，您的程序要基于此前给出的信息做出判断。回答是如下之一“In the same gang.”，“In different gangs.”或“Not sure yet.“</p>
</li>
<li>
<h4 id="分析"><a class="markdownIt-Anchor" href="#分析"></a> 分析</h4>
<p><img src= "/img/loading.gif" data-lazy-src="https://i.loli.net/2020/08/13/zwHRODT5mZlByqb.png" alt="分析" /></p>
</li>
<li>
<h4 id="错误代码"><a class="markdownIt-Anchor" href="#错误代码"></a> 错误代码</h4>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 100005</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N2 100001</span></span><br><span class="line"><span class="keyword">int</span> <span class="built_in">set</span>[N];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">set_find</span><span class="params">(<span class="keyword">int</span> x)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">set_join</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">set</span>[N2] = N2;</span><br><span class="line">    <span class="built_in">set</span>[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    <span class="keyword">int</span> p1,p2;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;t);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= t;i ++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= n;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">set</span>[i] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>;j &lt;= m;j ++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,str);</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;p1,&amp;p2);</span><br><span class="line">            <span class="keyword">int</span> tem1 = set_find(p1);</span><br><span class="line">            <span class="keyword">int</span> tem2 = set_find(p2);</span><br><span class="line">            <span class="keyword">if</span>(!<span class="built_in">strcmp</span>(str,<span class="string">&quot;A&quot;</span>))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(p1==p2)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;In the same gang.\n&quot;</span>);</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(tem1 ==p1 || tem2 == p2)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;Not sure yet.\n&quot;</span>);</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(tem1 == tem2)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;In the same gang.\n&quot;</span>);</span><br><span class="line">                &#125;<span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;In different gangs.\n&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(tem1!=p1 || tem2!=p2)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>(tem1==p1)</span><br><span class="line">                    &#123;</span><br><span class="line">                        set_join(N2-tem2,p1);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(tem2==<span class="number">54</span>p2)</span><br><span class="line">                    &#123;</span><br><span class="line">                        set_join(N2-tem1,p2);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;<span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    set_join(<span class="number">0</span>,p1);</span><br><span class="line">                    set_join(N2,p2);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">set_find</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">set</span>[x]==x)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">set</span>[x] = set_find(<span class="built_in">set</span>[x]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">set_join</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> fa = set_find(a);</span><br><span class="line">    <span class="keyword">int</span> fb = set_find(b);</span><br><span class="line">    <span class="keyword">if</span>(fa!=fb)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">set</span>[b] = a;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>
<h4 id="错误原因"><a class="markdownIt-Anchor" href="#错误原因"></a> 错误原因</h4>
</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://i.loli.net/2020/08/13/hrSeBFnzDkyW1Lc.png" alt="错误原因" /></p>
<ul>
<li>
<h4 id="正确代码"><a class="markdownIt-Anchor" href="#正确代码"></a> 正确代码</h4>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 100005</span></span><br><span class="line"><span class="keyword">int</span> <span class="built_in">set</span>[N*<span class="number">2</span>+<span class="number">1</span>];</span><br><span class="line"><span class="keyword">char</span> str[<span class="number">2</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">set_find</span><span class="params">(<span class="keyword">int</span> x)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">set_join</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">same</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;t);</span><br><span class="line">    <span class="keyword">int</span> n,m,p1,p2;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= t;i ++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt;= <span class="number">2</span>*n;i ++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">set</span>[i] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>;j &lt;= m;j ++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,str);</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;p1,&amp;p2);</span><br><span class="line">            <span class="keyword">if</span>(!<span class="built_in">strcmp</span>(str,<span class="string">&quot;A&quot;</span>))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(same(p1,p2)||same(p1+n,p2+n))   <span class="comment">//也可以只判断(same(p1,p2))</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;In the same gang.\n&quot;</span>);</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(same(p1+n,p2)||same(p1,p2+n))<span class="comment">//也可以只判断(same(p1+n,p2))</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;In different gangs.\n&quot;</span>);</span><br><span class="line">                &#125;<span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;Not sure yet.\n&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                set_join(p1+n,p2);</span><br><span class="line">                set_join(p1,p2+n);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">set_find</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">set</span>[x] == x)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">set</span>[x] = set_find(<span class="built_in">set</span>[x]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">set_join</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    x = set_find(x);</span><br><span class="line">    y = set_find(y);</span><br><span class="line">    <span class="keyword">if</span>(x!=y)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">set</span>[x] = y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">same</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> tem1 = set_find(x);</span><br><span class="line">    <span class="keyword">int</span> tem2 = set_find(y);</span><br><span class="line">    <span class="keyword">return</span> tem1==tem2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="cube-stackingpoj-1988"><a class="markdownIt-Anchor" href="#cube-stackingpoj-1988"></a> Cube Stacking(POJ 1988)</h1>
<ul>
<li>
<h4 id="题目描述-2"><a class="markdownIt-Anchor" href="#题目描述-2"></a> 题目描述</h4>
<ul>
<li>农夫John和Betsy在玩一个游戏，有<em>N</em>(1<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>≤</mo></mrow><annotation encoding="application/x-tex">\leq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">≤</span></span></span></span><em>N</em>$\leq<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>30</mn><mo separator="true">,</mo><mn>000</mn><mo stretchy="false">)</mo><mi mathvariant="normal">块</mi><mi mathvariant="normal">相</mi><mi mathvariant="normal">同</mi><mi mathvariant="normal">的</mi><mi mathvariant="normal">立</mi><mi mathvariant="normal">方</mi><mi mathvariant="normal">，</mi><mi mathvariant="normal">标</mi><mi mathvariant="normal">记</mi><mi mathvariant="normal">从</mi><mn>1</mn><mi mathvariant="normal">到</mi><mo>∗</mo><mi>N</mi><mo>∗</mo><mi mathvariant="normal">。</mi><mi mathvariant="normal">开</mi><mi mathvariant="normal">始</mi><mi mathvariant="normal">时</mi><mi mathvariant="normal">是</mi><mo>∗</mo><mi>N</mi><mo>∗</mo><mi mathvariant="normal">个</mi><mi mathvariant="normal">栈</mi><mi mathvariant="normal">，</mi><mi mathvariant="normal">每</mi><mi mathvariant="normal">个</mi><mi mathvariant="normal">栈</mi><mi mathvariant="normal">只</mi><mi mathvariant="normal">有</mi><mi mathvariant="normal">一</mi><mi mathvariant="normal">个</mi><mi mathvariant="normal">立</mi><mi mathvariant="normal">方</mi><mi mathvariant="normal">体</mi><mi mathvariant="normal">。</mi><mi mathvariant="normal">农</mi><mi mathvariant="normal">夫</mi><mi>J</mi><mi>o</mi><mi>h</mi><mi>n</mi><mi mathvariant="normal">请</mi><mi>B</mi><mi>e</mi><mi>t</mi><mi>s</mi><mi>y</mi><mi mathvariant="normal">执</mi><mi mathvariant="normal">行</mi><mo>∗</mo><mi>P</mi><mo>∗</mo><mo stretchy="false">(</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">30,000)块相同的立方，标记从1到*N*。开始时是*N*个栈，每个栈只有一个立方体。农夫John请Betsy执行*P*(1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">3</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mclose">)</span><span class="mord cjk_fallback">块</span><span class="mord cjk_fallback">相</span><span class="mord cjk_fallback">同</span><span class="mord cjk_fallback">的</span><span class="mord cjk_fallback">立</span><span class="mord cjk_fallback">方</span><span class="mord cjk_fallback">，</span><span class="mord cjk_fallback">标</span><span class="mord cjk_fallback">记</span><span class="mord cjk_fallback">从</span><span class="mord">1</span><span class="mord cjk_fallback">到</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord cjk_fallback">。</span><span class="mord cjk_fallback">开</span><span class="mord cjk_fallback">始</span><span class="mord cjk_fallback">时</span><span class="mord cjk_fallback">是</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord cjk_fallback">个</span><span class="mord cjk_fallback">栈</span><span class="mord cjk_fallback">，</span><span class="mord cjk_fallback">每</span><span class="mord cjk_fallback">个</span><span class="mord cjk_fallback">栈</span><span class="mord cjk_fallback">只</span><span class="mord cjk_fallback">有</span><span class="mord cjk_fallback">一</span><span class="mord cjk_fallback">个</span><span class="mord cjk_fallback">立</span><span class="mord cjk_fallback">方</span><span class="mord cjk_fallback">体</span><span class="mord cjk_fallback">。</span><span class="mord cjk_fallback">农</span><span class="mord cjk_fallback">夫</span><span class="mord mathdefault" style="margin-right:0.09618em;">J</span><span class="mord mathdefault">o</span><span class="mord mathdefault">h</span><span class="mord mathdefault">n</span><span class="mord cjk_fallback">请</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mord mathdefault">e</span><span class="mord mathdefault">t</span><span class="mord mathdefault">s</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mord cjk_fallback">执</span><span class="mord cjk_fallback">行</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span></span></span></span>\leq<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>∗</mo><mi>P</mi><mo>∗</mo></mrow><annotation encoding="application/x-tex">*P*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">∗</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mord">∗</span></span></span></span>\leq$100,000)个操作，有两类操作：move和count。</li>
<li>在一个move操作中，农夫John请Bessy将包含立方体<em>X</em>的栈移到包含立方体<em>Y</em>的栈的栈顶。</li>
<li>在一个count操作中，农夫John请Bessy计算包含立方体<em>X</em>的栈中在<em>X</em><strong>下</strong>的立方体个数，并返回值。</li>
<li>请您编写一个程序返回游戏结果。</li>
</ul>
</li>
<li>
<h4 id="输入-2"><a class="markdownIt-Anchor" href="#输入-2"></a> 输入</h4>
<ul>
<li>第1行：一个整数p</li>
<li>第2…p+1行：每行给出一个合法的操作，第2行给出第一个操作，以此类推。每行开始时以’M’表示一个move操作，或以’C’表示一个count操作。对move操作，这一行还给出两个整数：x和y；对count操作，这一行给出一个整数：X。</li>
<li>在输入文件中N的值不出现。Move操作不会要求一个栈移到它自己的上面。</li>
</ul>
</li>
<li>
<h4 id="输出-2"><a class="markdownIt-Anchor" href="#输出-2"></a> 输出</h4>
<p>按输入文件中的次序输出每一个count操作的结果。</p>
</li>
<li>
<h4 id="题目分析"><a class="markdownIt-Anchor" href="#题目分析"></a> 题目分析</h4>
</li>
</ul>
<p><img src= "/img/loading.gif" data-lazy-src="https://i.loli.net/2020/08/13/Y2WRsJkB4FziPmN.png" alt="分析" /></p>
<ul>
<li>
<h4 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h4>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 30004</span></span><br><span class="line"><span class="keyword">int</span> <span class="built_in">set</span>[N];</span><br><span class="line"><span class="keyword">int</span> num[N];</span><br><span class="line"><span class="keyword">int</span> top[N];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">set_find</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span>&amp; ans)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">set_join</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= N;i ++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">set</span>[i] = i;  <span class="comment">//栈底为自己</span></span><br><span class="line">        top[i] = i;  <span class="comment">//栈顶为自己</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> p;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;p);</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">int</span> p1,p2;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= p;i ++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,str);</span><br><span class="line">        <span class="keyword">if</span>(!<span class="built_in">strcmp</span>(str,<span class="string">&quot;M&quot;</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;p1,&amp;p2);</span><br><span class="line">            set_join(p1,p2);</span><br><span class="line">        &#125;<span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;p1);</span><br><span class="line">            set_find(p1,ans);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,ans);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">set_find</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> &amp;ans)</span> <span class="comment">//ans是该元素下元素的个数</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">set</span>[x] == x)</span><br><span class="line">    &#123;</span><br><span class="line">        ans += <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">set</span>[x] = set_find(<span class="built_in">set</span>[x],ans);<span class="comment">//路径压缩</span></span><br><span class="line">    ans += num[x]; <span class="comment">//num数组是当前元素距离父节点的距离，根的num值为0</span></span><br><span class="line">    num[x] = ans;  <span class="comment">//路径压缩后更新num值</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">set</span>[x];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">set_join</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    x = set_find(x,ans);</span><br><span class="line">    ans = <span class="number">0</span>;</span><br><span class="line">    y = set_find(y,ans); <span class="comment">//统一通过栈底来访问栈顶，所以先找到栈底，然后再获得y所在堆的高度。</span></span><br><span class="line">    ans = <span class="number">0</span>;</span><br><span class="line">    y = set_find(top[y],ans);</span><br><span class="line">    <span class="keyword">if</span>(x!=y)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">set</span>[x] = y;      <span class="comment">//合并两个栈</span></span><br><span class="line">        top[y] = top[x]; <span class="comment">//修改y所在栈的栈顶</span></span><br><span class="line">        num[x] = ans+<span class="number">1</span>;  <span class="comment">//修改x所在栈的栈底的num[]值为距离根的距离，也即距离父节点的距离</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="食物链poj-1182"><a class="markdownIt-Anchor" href="#食物链poj-1182"></a> 食物链(POJ 1182)</h1>
<ul>
<li>
<h4 id="题目描述-3"><a class="markdownIt-Anchor" href="#题目描述-3"></a> 题目描述</h4>
<ul>
<li>动物王国中有三类动物A,B,C,这三类动物的食物链构成了有趣的环形：A吃B，B吃C，C吃A。</li>
<li>现有N个动物，以1~N编号。每个动物都是A,B,C中的一种，但是我们并不直到它到底是哪一种。</li>
<li>有人用两种说法对这N个动物所构成的食物链关系进行描述：</li>
<li>第一种说法是&quot;1 X Y&quot;，表示X和Y是同类。</li>
<li>第二种说法是&quot;2 X Y&quot;，表示X吃Y。</li>
<li>此人对N个动物，用上述两种说法，一句接一句地说出K句话，这K句话有的是真的，有的是假的。当一句话满足下列三条之一时，这句话就是假话，否则就是真话。</li>
<li>
<ol>
<li>当前的话与前面的某些真的话冲突，就是假话；</li>
</ol>
</li>
<li>
<ol start="2">
<li>当前的话中X或Y比N大，就是假话；</li>
</ol>
</li>
<li>
<ol start="3">
<li>当前的话表示X吃X，就是假话。</li>
</ol>
</li>
<li>你的任务是根据给定的N（1<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>≤</mo></mrow><annotation encoding="application/x-tex">\leq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">≤</span></span></span></span>N$\leq<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>50000</mn><mi mathvariant="normal">）</mi><mi mathvariant="normal">和</mi><mi>K</mi><mi mathvariant="normal">句</mi><mi mathvariant="normal">话</mi><mi mathvariant="normal">（</mi><mn>0</mn></mrow><annotation encoding="application/x-tex">50000）和K句话（0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">5</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord cjk_fallback">）</span><span class="mord cjk_fallback">和</span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mord cjk_fallback">句</span><span class="mord cjk_fallback">话</span><span class="mord cjk_fallback">（</span><span class="mord">0</span></span></span></span>\leq<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span></span>\leq$100000），输出假话的总数。</li>
</ul>
</li>
<li>
<h4 id="输入-3"><a class="markdownIt-Anchor" href="#输入-3"></a> 输入</h4>
<ul>
<li>第一行是两个整数N和K，以一个空格分隔。</li>
<li>一下K行每行是三个正整数D，X，Y，两数之间用一个空格隔开，其中D表示说法的种类。</li>
<li>若D = 1,则表示X和Y是同类。</li>
<li>若D = 2,则表示X吃Y。</li>
</ul>
</li>
<li>
<h4 id="输出-3"><a class="markdownIt-Anchor" href="#输出-3"></a> 输出</h4>
<p>只有一个整数，表示假话的数目。</p>
</li>
<li>
<h4 id="题目分析-2"><a class="markdownIt-Anchor" href="#题目分析-2"></a> 题目分析</h4>
</li>
<li>
<h4 id="代码-2"><a class="markdownIt-Anchor" href="#代码-2"></a> 代码</h4>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
</div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/">并查集</a></div><div class="post_share"><div class="social-share" data-image="https://i.loli.net/2020/08/07/k9fpzD6NarE7yWZ.jpg" data-sites="wechat,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/08/27/ProblemDSomeSum/"><img class="prev-cover" data-lazy-src="https://i.loli.net/2020/08/07/GeRVD71bnE8CTZq.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">ProblemDSomeSum</div></div></a></div><div class="next-post pull-right"><a href="/2020/08/11/%E7%BC%96%E7%A8%8B%E4%B8%AD%E8%8A%82%E7%9C%81%E6%97%B6%E9%97%B4%E7%9A%84%E6%8A%80%E5%B7%A7/"><img class="next-cover" data-lazy-src="https://i.loli.net/2020/08/05/S9tDOx7hiKQmCqa.png" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">编程中节省时间的技巧</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2020/09/12/拓扑排序加并查集/" title="拓扑排序加并查集"><img class="relatedPosts_cover" data-lazy-src="https://i.loli.net/2020/08/07/7O4RrqBwaWNvhMp.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2020-09-12</div><div class="relatedPosts_title">拓扑排序加并查集</div></div></a></div></div></div></article></main><footer id="footer" style="background-image: url(https://i.loli.net/2020/08/07/k9fpzD6NarE7yWZ.jpg)" data-type="photo"><div id="footer-wrap"><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">hi~ welcome to my blog</div></div></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font_plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font_minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module" defer></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js" async></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css"><script>$(function () {
  $('span.katex-display').wrap('<div class="katex-wrap"></div>')
})</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><canvas class="fireworks"></canvas><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="/js/third-party/fireworks.js"></script></div></body></html>